import { SchemaDefinition } from '../schema';
import { AnyZodObject } from '../type-utils';
type BaseConfig = AnyZodObject;
type BaseEvents = Record<string, AnyZodObject>;
type BaseActions = Record<string, Record<'input' | 'output', AnyZodObject>>;
type BaseChannels = Record<string, Record<string, AnyZodObject>>;
type BaseStates = Record<string, AnyZodObject>;
type TagDefinition = {
    title?: string;
    description?: string;
};
type ConfigurationDefinition<TConfig extends BaseConfig> = SchemaDefinition<TConfig> & {
    identifier?: {
        required?: boolean;
        linkTemplateScript?: string;
    };
};
type EventDefinition<TEvent extends BaseEvents[string]> = SchemaDefinition<TEvent> & {
    title?: string;
    description?: string;
};
type ChannelDefinition<TChannel extends BaseChannels[string]> = {
    title?: string;
    description?: string;
    messages: {
        [K in keyof TChannel]: SchemaDefinition<TChannel[K]>;
    };
    message?: {
        tags?: Record<string, TagDefinition>;
    };
    conversation?: Partial<{
        tags: Record<string, TagDefinition>;
        /**
         * @deprecated
         */
        creation: {
            enabled: boolean;
            requiredTags: string[];
        };
    }>;
};
type ActionDefinition<TAction extends BaseActions[string]> = {
    title?: string;
    description?: string;
    input: SchemaDefinition<TAction['input']>;
    output: SchemaDefinition<TAction['output']>;
};
type StateDefinition<TState extends BaseStates[string]> = SchemaDefinition<TState> & {
    type: 'integration' | 'conversation' | 'user';
};
type UserDefinition = Partial<{
    tags: Record<string, TagDefinition>;
    /**
     * @deprecated
     */
    creation: {
        enabled: boolean;
        requiredTags: string[];
    };
}>;
type SecretDefinition = {
    optional?: boolean;
    description?: string;
};
export type IntegrationDefinitionProps<TConfig extends BaseConfig = BaseConfig, TEvents extends BaseEvents = BaseEvents, TActions extends BaseActions = BaseActions, TChannels extends BaseChannels = BaseChannels, TStates extends BaseStates = BaseStates> = {
    name: string;
    version: '0.2.0' | '0.0.1';
    title?: string;
    description?: string;
    icon?: string;
    readme?: string;
    identifier?: {
        extractScript?: string;
        fallbackHandlerScript?: string;
    };
    configuration?: ConfigurationDefinition<TConfig>;
    events?: {
        [K in keyof TEvents]: EventDefinition<TEvents[K]>;
    };
    actions?: {
        [K in keyof TActions]: ActionDefinition<TActions[K]>;
    };
    channels?: {
        [K in keyof TChannels]: ChannelDefinition<TChannels[K]>;
    };
    states?: {
        [K in keyof TStates]: StateDefinition<TStates[K]>;
    };
    user?: UserDefinition;
    secrets?: Record<string, SecretDefinition>;
};
export declare class IntegrationDefinition<TConfig extends BaseConfig = BaseConfig, TEvents extends BaseEvents = BaseEvents, TActions extends BaseActions = BaseActions, TChannels extends BaseChannels = BaseChannels, TStates extends BaseStates = BaseStates> {
    readonly name: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['name'];
    readonly version: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['version'];
    readonly title: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['title'];
    readonly description: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['description'];
    readonly icon: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['icon'];
    readonly readme: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['readme'];
    readonly configuration: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['configuration'];
    readonly events: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['events'];
    readonly actions: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['actions'];
    readonly channels: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['channels'];
    readonly states: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['states'];
    readonly user: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['user'];
    readonly secrets: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['secrets'];
    readonly identifier: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>['identifier'];
    constructor(props: IntegrationDefinitionProps<TConfig, TEvents, TActions, TChannels, TStates>);
}
export {};
